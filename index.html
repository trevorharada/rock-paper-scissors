<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <h1>To play again refresh the page!</h1>
    <h3>To see the your choice vs. the computers choice, right click on the page and 
        press "inspect", then click on the console tab at the top (only for desktop users).
        Currently I don't know a way to check on mobile, sorry! </h2>
    <h3>The Computer picks rock, paper, or scissors, based off a random number between
        0 - 100.</h2>

<script>

    function game(){
        let playerChoice = playerPick();
        
        function playerPick() {
            let playerInput = window.prompt("Type Rock, Paper, or Scissors.");
            /*If the player presses the cancel button the code will stop
            and return a TypeError, taking you out of the loop. The commented code was 
            an attempt to take you out of the loop if user presses cancel, without
            returning a TypeError, but did not work as intended, the user would still 
            have to play the remaining rounds, only canceling the current round. */
            /*if (playerInput === null || playerInput === undefined) {
                return
            } else { */
                return playerInput.toLowerCase().trim();
            //} 
        }

        let computerChoice = getcomputerChoice();
        
        function getcomputerChoice() {
            let randomComputerChoice = Math.floor(Math.random() * 100);
            if (randomComputerChoice <= 33) {
                return getComputerChoice = "rock";
            } else if (randomComputerChoice >= 34 && randomComputerChoice <= 66) {
                return getComputerChoice = "paper";
            } else {
                return getComputerChoice = "scissors";
            }
        }

        function playRound(playerChoice, computerChoice) {
            if ((playerChoice === "rock" && computerChoice === "paper") || 
            (playerChoice === "paper" && computerChoice === "scissors" ) || 
            (playerChoice === "scissors" && computerChoice === "rock")) {
                alert("You Lose!");
                return result = "Lose";
            } else if (playerChoice === computerChoice) {
                alert("It's a Tie!");
                return result = "Tie";
            } else if ((playerChoice === "rock" && computerChoice === "scissors") || 
            (playerChoice === "paper" && computerChoice === "rock") || 
            (playerChoice === "scissors" && computerChoice === "paper")) {
                alert("You Win!");
                return result = "Win";
            //} else if (playerChoice === null || playerChoice === undefined) {
                //return
            } else {
                alert("Invalid Choice!");
                return console.log(playRound(playerPick(), computerChoice));
            }
        }
        
        function roundResult() {
            if (result === "Win"){
               return winCount++;
            } else if (result === "Lose") {
               return loseCount++;
            } else {
               return tieCount++;
            }
        }

        console.log(playRound(playerChoice, computerChoice));
        console.log(roundResult());
        console.log("Player:" + playerChoice, "Computer:" + computerChoice);
        console.log("Player Win(s):" + winCount,"Computer Win(s):" + loseCount, "Tie(s):" + tieCount);
    }

    let result = " ";
    let winCount = 0;
    let loseCount = 0;
    let tieCount = 0;

    function overallResult() {
        if (winCount > loseCount) {
            alert(`You have beaten the Computer! You've won ${winCount} out of 5 rounds and tied ${tieCount} times!`);
        } else if (winCount < loseCount) {
            alert(`You have lost to the Computer! You've only won ${winCount} out of 5 rounds and tied ${tieCount} times, womp womp.`);
        } else if (winCount = 5) {
            alert(`Wow are you some kind Rock, Paper, Scissors God? You've won ${winCount} out of 5 rounds!\nRecommend touching grass.`);
        } else if (loseCount = 5) {
            alert(`Wow you are terrible at Rock, Paper, and Scissors! You've somehow managed to lose all 5 rounds! Incredible! #SkillIssue`);
        }
        else {
            alert(`Congratulations you're a bot, you've tied with the Computer ${tieCount} times, with ${winCount} win(s) and ${loseCount} loss(es).`);
        }
    }

    function playFiveRounds(){
        console.log(game());
        console.log(game());
        console.log(game());
        console.log(game());
        console.log(game());
    }

    console.log(playFiveRounds());
    console.log(overallResult());
</script>
</body>
</html>